# Аналіз утримання користувачів (Cohort Analysis) на SQL

## Опис проекту
Цей скрипт призначений для проведення **когортного аналізу** активності користувачів OTT-платформи за 2015 рік. Він дозволяє відстежити, як довго користувачі залишаються активними після реєстрації (Retention Rate).

## Технології та методи
- **SQL (MySQL/MariaDB)**: використання CTE (Common Table Expressions), віконних функцій та складних агрегацій.
- **Оптимізація**: замість 12 окремих запитів використано єдиний підхід з `PERIOD_DIFF` та `UNION ALL`, що скоротило код на 80%.
- **Сегментація**: дані розбиті за брендами, країнами, мовами та типами пристроїв.

## Структура вихідних даних
Результатом роботи скрипта є матриця утримання:
- `cohort`: місяць реєстрації користувачів.
- `brand_1 / brand_2`: сегментація за брендами.
- `_0, _1, ... _11`: кількість унікальних користувачів, активних через N місяців після реєстрації.

## Як використовувати
Скрипт розрахований на роботу з помісячно секціонованими таблицями логів (`userLog_MM_YYYY`).
